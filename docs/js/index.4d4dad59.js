(function(e){function t(t){for(var r,c,i=t[0],u=t[1],l=t[2],s=0,m=[];s<i.length;s++)c=i[s],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&m.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={index:0},o=[];function c(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"a6dd690a"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=c(e);var l=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var s=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/web-rtc-prac/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0613":function(e,t,n){"use strict";var r=n("2b0e"),a=n("2f62"),o=n("9ab4"),c=n("0b69"),i=n.n(c),u=n("fc1b"),l=n("06e9"),s={data:null,mediaConnection:null,dataConnection:null,yourMediaStream:null},d={data:function(e){return e.data},yourMediaStream:function(e){return e.yourMediaStream},mediaConnection:function(e){return e.mediaConnection}},m={init:function(e,t){var n=e.commit,r=e.state;return Object(o["b"])(this,void 0,Promise,(function(){var e,a=this;return Object(o["c"])(this,(function(c){return e=function(e){e.on("open",(function(){l["a"].todo("DataConnection >> open!!!")})),e.on("data",(function(e){l["a"].todo("DataConnection >> data: "+JSON.stringify(e,null,"  "))})),e.on("close",(function(){l["a"].todo("DataConnection >> close!!!")})),e.on("error",(function(){l["a"].todo("DataConnection >> error!!!")}))},[2,new Promise((function(c){var l=t.peerId,s={key:t.apiKey,debug:3},d=null===l?new i.a(s):new i.a(l,s);d.on("open",(function(){n("data",d),c(null)})),d.on("error",(function(e){c(e)})),d.on("call",(function(c){return Object(o["b"])(a,void 0,void 0,(function(){var a,i,l,s;return Object(o["c"])(this,(function(o){switch(o.label){case 0:return a=c.remoteId,[4,u["a"].showCalled("["+a+"]から着信です")];case 1:return i=o.sent(),i===u["b"].Done?(c.answer(null!==(s=t.mediaStream)&&void 0!==s?s:void 0),c.on("stream",(function(e){r.yourMediaStream=e})),c.on("close",(function(){var e=r.mediaConnection;null!==e&&(e.close(!0),n("mediaConnection",null))})),l=d.connect(a),e(l),n("mediaConnection",c),n("dataConnection",l)):c.close(!0),[2]}}))}))})),d.on("connection",(function(t){e(t),n("dataConnection",t)}))}))]}))}))},call:function(e,t){var n,r=e.commit,a=e.state;return Object(o["b"])(this,void 0,Promise,(function(){var e,c;return Object(o["c"])(this,(function(o){return e=a.data,null===e?[2,!1]:(c=e.call(t.peerId,null!==(n=t.mediaStream)&&void 0!==n?n:void 0),c.on("stream",(function(e){r("yourMediaStream",e)})),c.on("close",(function(){alert("切断されました")})),r("mediaConnection",c),[2,!0])}))}))},send:function(e,t){var n=e.state;return Object(o["b"])(this,void 0,Promise,(function(){var e;return Object(o["c"])(this,(function(r){switch(r.label){case 0:return e=n.dataConnection,null!==e?[3,2]:[4,l["a"].todo("送信エラー")];case 1:return r.sent(),[2,!1];case 2:return e.send(t),[2,!0]}}))}))},close:function(e){var t=e.state,n=e.commit;return Object(o["b"])(this,void 0,Promise,(function(){var e;return Object(o["c"])(this,(function(r){return e=t.mediaConnection,null===e?[2,!1]:(e.close(!0),n("mediaConnection",null),[2,!0])}))}))}},p={data:function(e,t){e.data=t},mediaConnection:function(e,t){e.mediaConnection=t},dataConnection:function(e,t){e.dataConnection=t},yourMediaStream:function(e,t){e.yourMediaStream=t}},v={namespaced:!0,state:s,getters:d,actions:m,mutations:p},f={mediaStream:null,deviceId:null,devices:null},b={mediaStream:function(e){return e.mediaStream},deviceId:function(e){return e.deviceId},devices:function(e){return e.devices}},h={init:function(e){var t=e.commit;return Object(o["b"])(this,void 0,Promise,(function(){var e,n,r;return Object(o["c"])(this,(function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return e=a.sent().filter((function(e){return"videoinput"===e.kind})),n=e.length>0?e[0].deviceId:null,[4,navigator.mediaDevices.getUserMedia({video:{deviceId:null!==n&&void 0!==n?n:void 0},audio:!0})];case 2:return r=a.sent(),t("mediaStream",r),t("deviceId",n),t("devices",e),[2]}}))}))},change:function(e){var t,n,r=e.commit,a=e.state;return Object(o["b"])(this,void 0,Promise,(function(){var e,c,i,l,s,d,m,p,v;return Object(o["c"])(this,(function(o){switch(o.label){case 0:if(e=a.deviceId,c=null!==(n=null===(t=a.devices)||void 0===t?void 0:t.map((function(e){return e.deviceId})))&&void 0!==n?n:null,null==e||null===c)return[2];if(c.length<2)return[2];i=c.indexOf(e),l=0,s=c.length-1,d=i+1<=s?i+1:l,m=c[d],o.label=1;case 1:return o.trys.push([1,3,,5]),[4,navigator.mediaDevices.getUserMedia({video:{deviceId:null!==m&&void 0!==m?m:void 0},audio:!0})];case 2:return p=o.sent(),r("mediaStream",p),r("deviceId",m),[3,5];case 3:return v=o.sent(),[4,u["a"].showError(v.message)];case 4:return o.sent(),[3,5];case 5:return[2]}}))}))}},O={mediaStream:function(e,t){e.mediaStream=t},devices:function(e,t){e.devices=t},deviceId:function(e,t){e.deviceId=t}},j={namespaced:!0,state:f,getters:b,actions:h,mutations:O};r["default"].use(a["a"]);t["a"]=new a["a"].Store({state:{},mutations:{},actions:{},modules:{peer:v,camera:j}})},"06e9":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("9ab4"),a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"white",icon:""},on:{click:e.close}},"v-btn",r,!1),[n("v-icon",[e._v("mdi-close")])],1)]}}]),model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[e._v(" "+e._s(e.text)+" ")])},c=[],i=n("ed09"),u=Object(i["c"])({components:{},props:{message:{type:String,default:"This is SnackbarDefault."},callbackClosed:{type:null,required:!0}},setup:function(e){var t=this,n=Object(i["h"])({isOpen:!1}),a=Object(i["a"])((function(){return e.message.endsWith(".")||e.message.endsWith("。")?e.message:e.message+"..."}));Object(i["k"])((function(){return n.isOpen}),(function(t){t||e.callbackClosed()}));var o=function(){n.isOpen=!1};return Object(i["g"])((function(){return Object(r["b"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){switch(e.label){case 0:return[4,Object(i["d"])()];case 1:return e.sent(),n.isOpen=!0,[2]}}))}))})),Object(r["a"])(Object(r["a"])({},Object(i["j"])(n)),{close:o,text:a})}}),l=u,s=n("2877"),d=n("6544"),m=n.n(d),p=n("8336"),v=n("132d"),f=n("2db4"),b=Object(s["a"])(l,o,c,!1,null,"4db0a5f5",null),h=b.exports;m()(b,{VBtn:p["a"],VIcon:v["a"],VSnackbar:f["a"]});var O=function(){function e(){}return e.todo=function(e){return void 0===e&&(e="準備中"),Object(r["b"])(this,void 0,Promise,(function(){return Object(r["c"])(this,(function(t){return[2,this.show(e)]}))}))},e.show=function(e){return Object(r["b"])(this,void 0,Promise,(function(){var t=this;return Object(r["c"])(this,(function(n){return[2,new Promise((function(n){var r=a["default"].extend(h),o=new r({parent:t.parent,propsData:{message:e,callbackClosed:function(){n(),setTimeout((function(){t.removeElement(o)}),1e3)}}});t.attachElement(o)}))]}))}))},Object.defineProperty(e,"parent",{get:function(){return window.vmApp},enumerable:!1,configurable:!0}),e.attachElement=function(e){e.$parent?(e.$mount(),e.$parent.$el.appendChild(e.$el)):(e.$mount(),document.body.appendChild(e.$el))},e.removeElement=function(e){e.$parent?(e.$parent.$el.removeChild(e.$el),e.$destroy()):(document.body.removeChild(e.$el),e.$destroy())},e}()},"0a32":function(e,t,n){"use strict";n("32db")},"1a0e":function(e,t,n){"use strict";n("b656")},"29e6":function(e,t,n){"use strict";n("2d28")},"2d28":function(e,t,n){},"32db":function(e,t,n){},3479:function(e,t,n){"use strict";n("a9f1")},"3de4":function(e,t,n){},"403c":function(e,t,n){},"40f4":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-text"},[n("v-text-field",{attrs:{readonly:e.readonly,outlined:"",dense:"",label:e.label,"hide-details":""},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})],1)},a=[],o=n("9ab4"),c=n("ed09"),i=Object(c["c"])({components:{},props:{value:{type:String,default:null},label:{type:String,default:null},readonly:{type:Boolean,default:!1}},emits:["input"],setup:function(e,t){var n=Object(c["h"])({}),r=function(e){t.emit("input",e)},a=Object(c["a"])({get:function(){return e.value},set:function(e){r(e)}});return Object(o["a"])(Object(o["a"])({},Object(c["j"])(n)),{localValue:a})}}),u=i,l=(n("d23f"),n("2877")),s=n("6544"),d=n.n(s),m=n("8654"),p=Object(l["a"])(u,r,a,!1,null,"73a6eefa",null);t["a"]=p.exports;d()(p,{VTextField:m["a"]})},6097:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-page"},[n("div",{staticClass:"layout-page__header"},[e._t("header")],2),n("div",{staticClass:"layout-page__main"},[e._t("main")],2),n("div",{staticClass:"layout-page__footer"},[e._t("footer")],2)])},a=[],o=n("9ab4"),c=n("ed09"),i=Object(c["c"])({components:{},setup:function(){var e=Object(c["h"])({});return Object(o["a"])({},Object(c["j"])(e))}}),u=i,l=(n("b47d"),n("2877")),s=Object(l["a"])(u,r,a,!1,null,"77a90e74",null);t["a"]=s.exports},"61ab":function(e,t,n){},"683d":function(e,t,n){"use strict";n("403c")},"75ed":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("9ab4"),a=n("0613"),o=n("ed09"),c=function(){var e=Object(o["a"])((function(){return a["a"].getters["peer/data"]})),t=Object(o["a"])((function(){var t,n;return null!==(n=null===(t=e.value)||void 0===t?void 0:t.id)&&void 0!==n?n:null})),n=Object(o["a"])((function(){return a["a"].getters["peer/yourMediaStream"]})),c=Object(o["a"])((function(){return a["a"].getters["peer/mediaConnection"]})),i=Object(o["a"])((function(){var e,t;return null!==(t=null===(e=c.value)||void 0===e?void 0:e.remoteId)&&void 0!==t?t:null})),u=function(e){return Object(r["b"])(void 0,void 0,Promise,(function(){return Object(r["c"])(this,(function(t){return[2,a["a"].dispatch("peer/init",e)]}))}))},l=function(e){return Object(r["b"])(void 0,void 0,Promise,(function(){return Object(r["c"])(this,(function(t){return[2,a["a"].dispatch("peer/call",e)]}))}))},s=function(e){return Object(r["b"])(void 0,void 0,Promise,(function(){return Object(r["c"])(this,(function(t){return[2,a["a"].dispatch("peer/send",e)]}))}))},d=function(){return Object(r["b"])(void 0,void 0,Promise,(function(){return Object(r["c"])(this,(function(e){return[2,a["a"].dispatch("peer/close")]}))}))};return{peer:e,init:u,call:l,send:s,close:d,peerId:t,yourMediaStream:n,yourPeerId:i,mediaConnection:c}}},9428:function(e,t,n){},"9f38":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(){function e(e,t,n,r){this.apiKey=e,this.myPeerId=t,this.yourPeerId=n,this.roomName=r}return e.createDefault=function(){return new e(null,null,null,null)},e.create=function(t){var n,r,a,o;return new e(null!==(n=t.apiKey)&&void 0!==n?n:null,null!==(r=t.myPeerId)&&void 0!==r?r:null,null!==(a=t.yourPeerId)&&void 0!==a?a:null,null!==(o=t.roomName)&&void 0!==o?o:null)},e.prototype.toJson=function(){return{apiKey:this.apiKey,myPeerId:this.myPeerId,yourPeerId:this.yourPeerId,roomName:this.roomName}},e}(),a={Settings:"SETTINGS"},o=function(){function e(){}return Object.defineProperty(e,"settings",{get:function(){var e=this.load(a.Settings);return null===e?r.createDefault():r.create(e)},set:function(e){this.save(a.Settings,e.toJson())},enumerable:!1,configurable:!0}),Object.defineProperty(e,"apiKey",{get:function(){return this.settings.apiKey},set:function(e){var t=this.settings;t.apiKey=e,this.settings=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"myPeerId",{get:function(){return this.settings.myPeerId},set:function(e){var t=this.settings;t.myPeerId=e,this.settings=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"yourPeerId",{get:function(){return this.settings.yourPeerId},set:function(e){var t=this.settings;t.yourPeerId=e,this.settings=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"roomName",{get:function(){return this.settings.roomName},set:function(e){var t=this.settings;t.roomName=e,this.settings=t},enumerable:!1,configurable:!0}),e.save=function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)},e.load=function(e){var t=localStorage.getItem(e);return null===t?null:JSON.parse(t)},e}()},a9f1:function(e,t,n){},afbc:function(e,t,n){"use strict";var r=n("2b0e"),a=n("8c4f"),o=n("d745"),c=n("9f38"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[null===e.apiKey?[e._v("アクセスキーが不正です。")]:[n("DebugSkyWay",{attrs:{"api-key":e.apiKey}})]],2)],1)],1)},u=[],l=n("9ab4"),s=n("ed09"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"debug-sky-way"},[n("v-row",[null!==e.shareUrl?n("v-col",{staticClass:"debug-sky-way__item",staticStyle:{display:"flex","flex-direction":"row"},attrs:{cols:"12"}},[n("div",{staticStyle:{"font-size":"10px"}},[e._v(e._s(e.shareUrl))]),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.clickShare(e.shareUrl)}}},[n("v-icon",[e._v("mdi-share-variant")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.clickQr(e.shareUrl)}}},[n("v-icon",[e._v("mdi-qrcode")])],1)],1):e._e(),n("v-col",{staticClass:"debug-sky-way__item",attrs:{cols:"12"}},[n("CameraSelect",{model:{value:e.cameraDeviceId,callback:function(t){e.cameraDeviceId=t},expression:"cameraDeviceId"}})],1),n("v-col",{staticClass:"debug-sky-way__item",attrs:{cols:"12",md:"6"}},[n("div",{staticStyle:{display:"flex","flex-direction":"row"}},[n("PeerIdForm",{attrs:{label:"自分のPeerID",value:e.myPeerId,readonly:""}})],1),n("VideoPreview",{attrs:{"media-stream":e.myMediaStream}})],1),n("v-col",{staticClass:"debug-sky-way__item",attrs:{cols:"12",md:"6"}},[n("div",{staticStyle:{display:"flex","flex-direction":"row"}},[n("PeerIdForm",{attrs:{label:"相手のPeerId"},model:{value:e.theirPeerId,callback:function(t){e.theirPeerId=t},expression:"theirPeerId"}}),n("v-btn",{on:{click:e.clickCall}},[e._v("発信")]),n("v-btn",{on:{click:e.clickClose}},[e._v("終了")])],1),n("VideoPreview",{attrs:{"media-stream":e.theirMediaStream}})],1)],1)],1)},m=[],p=n("40f4"),v=function(){function e(){}return e.createShareUrl=function(e,t){return"https://tatsuya0903.github.io/web-rtc-prac?apiKey="+e+"&theirPeerId="+t},e.createCallUrl=function(e,t){return"https://tatsuya0903.github.io/web-rtc-prac/"+e+"/call/"+t},e.createRoomUrl=function(e,t){return"https://tatsuya0903.github.io/web-rtc-prac/"+e+"/rooms/"+t},e.createSample2Url=function(e,t){return"https://tatsuya0903.github.io/web-rtc-prac/"+e+"/sample2?toPeerId="+t},e.createRoomName=function(){var e=function(e){for(var t="abcdefghijklmnopqrstuvwxyz0123456789",n="",r=1;r<=e;r++)n+=t[Math.floor(Math.random()*t.length)];return n};return e(3)+"-"+e(4)+"-"+e(3)},e}(),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseSelect",{attrs:{label:"カメラ",items:e.items},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})},b=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{attrs:{dense:"",items:e.items,"hide-details":"",label:e.label,outlined:""},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})},O=[],j=Object(s["c"])({components:{},props:{value:{type:null,required:!0},label:{type:String,default:null},items:{type:Array,required:!0}},emits:["input"],setup:function(e,t){var n=Object(s["h"])({}),r=function(e){t.emit("input",e)},a=Object(s["a"])({get:function(){return e.value},set:function(e){r(e)}});return Object(l["a"])(Object(l["a"])({},Object(s["j"])(n)),{localValue:a})}}),y=j,g=n("2877"),_=n("6544"),S=n.n(_),C=n("b974"),w=Object(g["a"])(y,h,O,!1,null,"d290a4b6",null),k=w.exports;S()(w,{VSelect:C["a"]});var P=Object(s["c"])({components:{BaseSelect:k},props:{value:{type:null,required:!0}},emits:["input"],setup:function(e,t){var n=this,r=Object(s["h"])({items:[]}),a=function(e){t.emit("input",e)},o=Object(s["a"])({get:function(){return e.value},set:function(e){a(e)}});Object(s["e"])((function(){c()}));var c=function(){return Object(l["b"])(n,void 0,void 0,(function(){var e,t;return Object(l["c"])(this,(function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return e=n.sent().filter((function(e){return"videoinput"===e.kind})),console.log("devices: "+JSON.stringify(e,null,"  ")),r.items.splice(0),r.items.push({value:null,text:"選択されていません"}),(t=r.items).push.apply(t,e.map((function(e){return{value:e.deviceId,text:e.label}}))),o.value=e[0].deviceId,[2]}}))}))};return Object(l["a"])(Object(l["a"])({},Object(s["j"])(r)),{localValue:o})}}),I=P,x=Object(g["a"])(I,f,b,!1,null,"3d751df5",null),V=x.exports,K=n("fc1b"),T=n("0b69"),$=n.n(T),E=function(e){var t=Object(s["i"])(e.myPeerId),n=Object(s["i"])(e.theirPeerId),r=Object(s["i"])(null),a=Object(s["i"])(null),o=Object(s["i"])(null),c={key:e.apiKey,debug:3},i=null===e.myPeerId?new $.a(c):new $.a(e.myPeerId,c);i.on("open",(function(){t.value=i.id,e.callbackOpened()})),i.on("call",(function(t){var c;n.value=t.remoteId,t.answer(null!==(c=r.value)&&void 0!==c?c:void 0),t.on("stream",(function(e){a.value=e})),t.on("close",(function(){e.callbackClosed()})),o.value=t,e.callbackCalled()})),i.on("error",(function(t){e.callbackError(t.message)})),i.on("close",(function(){e.callbackClosed()})),Object(s["k"])((function(){return r.value}),(function(e){var t;null!==e&&(null===(t=o.value)||void 0===t||t.replaceStream(e))}));var u=function(){var t,c=n.value;if(null===c)return!1;var u=i.call(c,null!==(t=r.value)&&void 0!==t?t:void 0);return u.on("stream",(function(e){a.value=e})),u.on("close",(function(){e.callbackClosed()})),o.value=u,!0},l=function(){var e;null===(e=o.value)||void 0===e||e.close(!0)};return Object(s["f"])((function(){var e;null===(e=o.value)||void 0===e||e.close(!0),i.destroy()})),{myPeerId:t,myMediaStream:r,theirPeerId:n,theirMediaStream:a,executeCall:u,executeClose:l}},N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("InputText",{attrs:{label:e.label,value:e.localValue,readonly:e.readonly}})},D=[],L=Object(s["c"])({components:{InputText:p["a"]},props:{value:{type:String,default:null},label:{type:String,default:"PeerId"},readonly:{type:Boolean,default:!1}},emits:["input"],setup:function(e,t){var n=Object(s["h"])({}),r=function(e){t.emit("input",e)},a=Object(s["a"])({get:function(){var t;return null!==(t=e.value)&&void 0!==t?t:""},set:function(e){0!==(null===e||void 0===e?void 0:e.length)?r(e):r(null)}});return Object(l["a"])(Object(l["a"])({},Object(s["j"])(n)),{localValue:a})}}),q=L,M=Object(g["a"])(q,N,D,!1,null,"166882c6",null),B=M.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-preview"},[n("video",{ref:"video",attrs:{width:"100%",height:"100%",autoplay:"",muted:"",playsinline:""},domProps:{muted:!0}}),null!==e.label?n("div",{staticClass:"video-preview__label"},[e._v(e._s(e.label))]):e._e()])},U=[],A=Object(s["c"])({components:{},props:{mediaStream:{type:MediaStream,default:null},label:{type:String,default:null}},setup:function(e){var t=Object(s["h"])({}),n=Object(s["i"])();Object(s["k"])((function(){return e.mediaStream}),(function(e){r(e)})),Object(s["g"])((function(){r(e.mediaStream)}));var r=function(e){var t=n.value;t&&(null===e?(t.srcObject instanceof MediaStream&&t.srcObject.getTracks().map((function(e){return e.stop()})),t.srcObject=null):(t.srcObject=e,t.play()))};return Object(l["a"])(Object(l["a"])({},Object(s["j"])(t)),{video:n})}}),H=A,J=(n("b0dd"),Object(g["a"])(H,R,U,!1,null,"94cd72dc",null)),F=J.exports,Q=n("06e9"),z=Object(s["c"])({components:{VideoPreview:F,PeerIdForm:B,CameraSelect:V,InputText:p["a"]},props:{apiKey:{type:String,required:!0},theirPeerId:{type:String,required:!0}},setup:function(e){var t=this,n=E({apiKey:e.apiKey,myPeerId:c["a"].myPeerId,theirPeerId:e.theirPeerId,callbackOpened:function(){Q["a"].show("準備OK")},callbackCalled:function(){Q["a"].show("通話開始")},callbackClosed:function(){Q["a"].show("通話が終了しました")},callbackError:function(e){K["a"].showError(e)}}),r=n.myPeerId,a=n.myMediaStream,o=n.theirPeerId,i=n.theirMediaStream,u=n.executeCall,d=n.executeClose,m=Object(s["h"])({cameraDeviceId:null});Object(s["k"])((function(){return r.value}),(function(e){c["a"].myPeerId=e}));var p=function(e){return Object(l["b"])(t,void 0,void 0,(function(){var t,n;return Object(l["c"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,navigator.mediaDevices.getUserMedia({video:{deviceId:e},audio:!1})];case 1:return t=r.sent(),a.value=t,[3,3];case 2:return n=r.sent(),console.error("mediaDevice.getUserMedia() error:",n.message),[2];case 3:return[2]}}))}))},f=Object(s["a"])((function(){var t,n=e.apiKey,a=null!==(t=r.value)&&void 0!==t?t:"";return 0===a.length?null:v.createShareUrl(n,a)}));Object(s["g"])((function(){console.log("onMounted >> ")})),Object(s["k"])((function(){return m.cameraDeviceId}),(function(e){null!==e&&p(e)}));var b=function(){return Object(l["b"])(t,void 0,void 0,(function(){return Object(l["c"])(this,(function(e){return u(),[2]}))}))},h=function(){return Object(l["b"])(t,void 0,void 0,(function(){return Object(l["c"])(this,(function(e){return d(),[2]}))}))},O=function(e){return Object(l["b"])(t,void 0,void 0,(function(){return Object(l["c"])(this,(function(t){switch(t.label){case 0:return[4,K["a"].showShareUrl(e)];case 1:return t.sent(),[2]}}))}))},j=function(e){return Object(l["b"])(t,void 0,void 0,(function(){return Object(l["c"])(this,(function(t){switch(t.label){case 0:return[4,navigator.share({title:"リンクを共有",text:"",url:e})];case 1:return t.sent(),[2]}}))}))};return Object(l["a"])(Object(l["a"])({},Object(s["j"])(m)),{myPeerId:r,theirPeerId:o,clickCall:b,clickClose:h,shareUrl:f,clickQr:O,clickShare:j,myMediaStream:a,theirMediaStream:i})}}),W=z,G=(n("1a0e"),n("8336")),X=n("62ad"),Y=n("132d"),Z=n("0fd9"),ee=Object(g["a"])(W,d,m,!1,null,"19913922",null),te=ee.exports;S()(ee,{VBtn:G["a"],VCol:X["a"],VIcon:Y["a"],VRow:Z["a"]});var ne=Object(s["c"])({components:{DebugSkyWay:te},setup:function(){var e=Object(s["h"])({}),t=Object(s["a"])((function(){return c["a"].apiKey}));return Object(l["a"])(Object(l["a"])({},Object(s["j"])(e)),{apiKey:t})}}),re=ne,ae=n("a523"),oe=Object(g["a"])(re,i,u,!1,null,"6477047c",null),ce=oe.exports;S()(oe,{VCol:X["a"],VContainer:ae["a"],VRow:Z["a"]});var ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"main",fn:function(){return[null===e.peer?n("div",[e._v("Peer is null")]):n("Room",{attrs:{"api-key":e.apiKey,peer:e.peer,"room-name":e.roomName}})]},proxy:!0}])})},ue=[],le=n("6097"),se=n("75ed"),de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"main",fn:function(){return[n("div",{staticClass:"room"},[n("div",{staticClass:"room__item room__item--video"},[n("VideoPreviews",{attrs:{"media-streams":e.mediaStreams}}),n("div",{staticStyle:{position:"absolute",right:"16px",bottom:"16px","max-width":"200px",width:"50vw",border:"1px solid white","border-radius":"16px",overflow:"hidden"}},[n("VideoPreview",{attrs:{"media-stream":e.mediaStream}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.drawer,expression:"drawer"}],staticClass:"room__item room__item--chat"},[n("RoomChat",{attrs:{messages:e.messages},on:{send:e.clickSend}})],1)])]},proxy:!0},{key:"footer",fn:function(){return[n("v-toolbar",{attrs:{dark:""}},[n("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",padding:"8px"}},[n("span",[e._v(e._s(e.roomName))])]),n("v-btn",{attrs:{icon:""},on:{click:e.clickQr}},[n("v-icon",[e._v("mdi-qrcode")])],1),n("v-spacer"),n("CameraChangeButton"),n("v-btn",{attrs:{icon:"",color:e.drawer?"primary":null},on:{click:e.clickChat}},[n("v-icon",[e._v(e._s(e.drawer?"mdi-message":"mdi-message-text"))])],1),n("v-btn",{attrs:{rounded:"",color:"error"},on:{click:e.clickClose}},[n("v-icon",[e._v("mdi-phone-hangup")])],1)],1)]},proxy:!0}])})},me=[],pe=function(e){var t,n=Object(s["i"])([]),r=Object(s["i"])([]),a=e.peer,o=a.joinRoom(e.roomName,{mode:"mesh",stream:null!==(t=e.stream)&&void 0!==t?t:void 0});o.on("open",(function(){console.log("room > open")})),o.on("peerJoin",(function(e){Q["a"].show("'"+e+"'が参加しました")})),o.on("peerLeave",(function(e){var t=n.value.findIndex((function(t){return t.peerId===e}));-1!==t&&n.value.splice(t,1),Q["a"].show("'"+e+"'が退出しました")})),o.on("log",(function(e){console.log("room >> log"),console.log("    logs "+JSON.stringify(e,null,""))})),o.on("stream",(function(e){n.value.push(e)})),o.on("data",(function(e){var t=e.src,n=e.data;console.log("data > src: "+t);var a=JSON.parse(n);r.value.push(a)})),o.on("close",(function(){console.log("room > close")}));var c=function(e){o.replaceStream(e)},i=function(){o.close()},u=function(t){var n={peerId:e.peer.id,text:t};r.value.push(n);var a=JSON.stringify(n);o.send(a)};return Object(s["f"])((function(){o.close(),a.destroy()})),{mediaStreams:n,executeClose:i,changeMediaStream:c,executeSend:u,messages:r}},ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-previews"},[e._l(e.mediaStreams,(function(t){return[n("div",{key:t.peerId,staticClass:"video-previews__col",style:e.styleObject},[n("VideoPreview",{attrs:{"media-stream":t,label:t.peerId}})],1)]}))],2)},fe=[],be=Object(s["c"])({components:{VideoPreview:F},props:{mediaStreams:{type:Array,required:!0}},setup:function(e){var t=Object(s["h"])({}),n=Object(s["a"])((function(){var t=1,n=1;switch(e.mediaStreams.length){case 1:t=1,n=1;break;case 2:t=2,n=1;break;case 3:case 4:t=2,n=2;break;case 5:case 6:case 7:case 8:case 9:t=3,n=3;break;case 10:case 11:case 12:t=3,n=4;break;case 13:case 14:case 15:case 16:t=4,n=4;break}return{width:100/t+"%",height:100/n+"%"}}));return Object(l["a"])(Object(l["a"])({},Object(s["j"])(t)),{styleObject:n})}}),he=be,Oe=(n("3479"),Object(g["a"])(he,ve,fe,!1,null,"cc5b4614",null)),je=Oe.exports,ye=n("deca"),ge=n("febd"),_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{icon:"",disabled:e.disabled},on:{click:e.change}},[n("v-icon",[e._v("mdi-autorenew")])],1)},Se=[],Ce=Object(s["c"])({components:{},setup:function(){var e=Object(ge["a"])(),t=e.devices,n=e.change,r=Object(s["a"])((function(){var e;return(null!==(e=t.value)&&void 0!==e?e:[]).length<2}));return{change:n,disabled:r}}}),we=Ce,ke=Object(g["a"])(we,_e,Se,!1,null,"078f511c",null),Pe=ke.exports;S()(ke,{VBtn:G["a"],VIcon:Y["a"]});var Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{width:"100%"}},[n("div",{staticClass:"room-chat"},[n("div",{staticClass:"room-chat__row room-chat__row--header"},[n("v-card-title",[e._v("通話中のメッセージ")])],1),n("div",{staticClass:"room-chat__row room-chat__row--content"},[n("v-list",[e._l(e.messages,(function(t,r){return[n("v-list-item",{key:r},[n("v-list-item-content",[n("v-list-item-subtitle",[e._v(e._s(t.peerId))]),n("v-list-item-title",[e._v(e._s(t.text))])],1)],1)]}))],2)],1),n("div",{staticClass:"room-chat__row room-chat__row--footer"},[n("v-text-field",{attrs:{"hide-details":"",dense:"",placeholder:"参加者全員にメッセージを送信",filled:"",rounded:"","append-icon":"mdi-send"},on:{"click:append":e.clickSend},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)])])},xe=[],Ve=Object(s["c"])({components:{},props:{messages:{type:Array,required:!0}},emits:["send"],setup:function(e,t){var n=this,r=Object(s["h"])({message:""}),a=function(e){t.emit("send",e)},o=function(){return Object(l["b"])(n,void 0,void 0,(function(){return Object(l["c"])(this,(function(e){return a(r.message),r.message="",[2]}))}))};return Object(l["a"])(Object(l["a"])({},Object(s["j"])(r)),{clickSend:o,emitSend:a})}}),Ke=Ve,Te=(n("29e6"),n("b0af")),$e=n("99d9"),Ee=n("8860"),Ne=n("da13"),De=n("5d23"),Le=n("8654"),qe=Object(g["a"])(Ke,Ie,xe,!1,null,"747eda36",null),Me=qe.exports;S()(qe,{VCard:Te["a"],VCardTitle:$e["c"],VList:Ee["a"],VListItem:Ne["a"],VListItemContent:De["a"],VListItemSubtitle:De["b"],VListItemTitle:De["c"],VTextField:Le["a"]});var Be=Object(s["c"])({components:{RoomChat:Me,CameraChangeButton:Pe,VideoPreviews:je,CameraSelect:V,VideoPreview:F,LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0},peer:{type:$.a,required:!0},roomName:{type:String,required:!0}},setup:function(e){var t=this,n=Object(ge["a"])().mediaStream,r=pe({peer:e.peer,roomName:e.roomName,stream:n.value}),a=r.mediaStreams,o=r.executeClose,c=r.changeMediaStream,i=r.executeSend,u=r.messages,d=Object(s["h"])({drawer:!1});Object(s["k"])((function(){return n.value}),(function(e){null!==e&&c(e)}),{deep:!0});var m=function(){return Object(l["b"])(t,void 0,void 0,(function(){var t;return Object(l["c"])(this,(function(n){switch(n.label){case 0:return t=v.createRoomUrl(e.apiKey,e.roomName),[4,K["a"].showShareUrl(t)];case 1:return n.sent(),[2]}}))}))},p=function(){return Object(l["b"])(t,void 0,void 0,(function(){return Object(l["c"])(this,(function(t){switch(t.label){case 0:return o(),[4,ye["a"].moveTop(e.apiKey)];case 1:return t.sent(),[2]}}))}))},f=function(e){return Object(l["b"])(t,void 0,void 0,(function(){return Object(l["c"])(this,(function(t){return i(e),[2]}))}))},b=function(){return Object(l["b"])(t,void 0,void 0,(function(){return Object(l["c"])(this,(function(e){return d.drawer=!d.drawer,[2]}))}))};return Object(l["a"])(Object(l["a"])({},Object(s["j"])(d)),{mediaStreams:a,executeClose:o,clickQr:m,mediaStream:n,clickClose:p,clickSend:f,clickChat:b,messages:u})}}),Re=Be,Ue=(n("0a32"),n("2fa4")),Ae=n("71d9"),He=Object(g["a"])(Re,de,me,!1,null,"1a689ea0",null),Je=He.exports;S()(He,{VBtn:G["a"],VIcon:Y["a"],VSpacer:Ue["a"],VToolbar:Ae["a"]});var Fe=Object(s["c"])({components:{Room:Je,VideoPreview:F,CameraSelect:V,LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0},roomName:{type:String,required:!0}},setup:function(){var e=Object(s["h"])({}),t=Object(se["a"])().peer;return Object(l["a"])(Object(l["a"])({},Object(s["j"])(e)),{peer:t})}}),Qe=Fe,ze=Object(g["a"])(Qe,ie,ue,!1,null,"177359c9",null),We=ze.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"header",fn:function(){return[n("AppBar")]},proxy:!0},{key:"main",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-card-text",[n("InputText",{attrs:{label:"PeerId"},model:{value:e.theirPeerId,callback:function(t){e.theirPeerId=t},expression:"theirPeerId"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:e.click1on1}},[e._v("P2P通話")])],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-card-text",[n("InputText",{attrs:{label:"会議コード"},model:{value:e.roomName,callback:function(t){e.roomName=t},expression:"roomName"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:e.clickRoom}},[e._v("ルーム通話")])],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("VideoPreview",{attrs:{"media-stream":e.mediaStream}}),n("v-card-actions",[n("v-spacer"),n("CameraChangeButton"),n("v-spacer")],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"4"}},[n("SampleList",{attrs:{"api-key":e.apiKey}})],1)],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[n("v-bottom-navigation",{attrs:{dark:""}},[n("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",padding:"8px"}},[e._v(" "+e._s(e.peerId)+" ")]),n("v-btn",{attrs:{icon:""},on:{click:e.clickQr}},[n("v-icon",[e._v("mdi-qrcode")])],1),n("v-spacer")],1)]},proxy:!0}])})},Xe=[],Ye=n("dd38"),Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-list",{attrs:{"two-line":""}},[e._l(e.items,(function(t,r){return[r>0?n("v-divider",{key:t.title+"-divider"}):e._e(),n("v-list-item",{key:t.title,attrs:{to:t.to}},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))]),n("v-list-item-subtitle",[e._v(e._s(t.subtitle))])],1)],1)]}))],2)],1)},et=[],tt=Object(s["c"])({components:{},props:{apiKey:{type:String,required:!0}},setup:function(e){var t=Object(s["a"])((function(){return[{title:"サンプル1",subtitle:"Peer接続＆切断",to:o["a"].toSample1(e.apiKey)},{title:"サンプル2",subtitle:"P2Pでテキスト送受信",to:o["a"].toSample2(e.apiKey)},{title:"サンプル3",subtitle:"ルーム機能でテキスト送受信",to:o["a"].toSample3(e.apiKey)},{title:"サンプル4",subtitle:"P2Pで画像ファイルをダウンロード",to:o["a"].toSample4(e.apiKey)},{title:"サンプル5",subtitle:"ルーム機能で動画配信(一方向のみ)",to:o["a"].toSample5(e.apiKey)}]}));return{items:t}}}),nt=tt,rt=n("ce7e"),at=Object(g["a"])(nt,Ze,et,!1,null,"3e1e4c64",null),ot=at.exports;S()(at,{VCard:Te["a"],VDivider:rt["a"],VList:Ee["a"],VListItem:Ne["a"],VListItemContent:De["a"],VListItemSubtitle:De["b"],VListItemTitle:De["c"]});var ct=Object(s["c"])({components:{SampleList:ot,CameraChangeButton:Pe,AppBar:Ye["a"],VideoPreview:F,CameraSelect:V,InputText:p["a"],LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0}},setup:function(e){var t,n,r=this,a=Object(se["a"])(),o=a.call,i=a.peer,u=a.peerId,d=a.yourPeerId,m=Object(ge["a"])().mediaStream,p=Object(s["h"])({theirPeerId:null!==(t=c["a"].yourPeerId)&&void 0!==t?t:"",roomName:null!==(n=c["a"].roomName)&&void 0!==n?n:""});Object(s["k"])((function(){return i.value}),(function(e){})),Object(s["k"])((function(){return p.theirPeerId}),(function(e){c["a"].yourPeerId=e.length>0?e:null})),Object(s["k"])((function(){return p.roomName}),(function(e){c["a"].roomName=e.length>0?e:null}));var f=function(){return Object(l["b"])(r,void 0,void 0,(function(){var e;return Object(l["c"])(this,(function(t){switch(t.label){case 0:return 0!==p.theirPeerId.length?[3,2]:[4,K["a"].showError("PeerIdを入力してください")];case 1:return t.sent(),[2];case 2:return[4,o({peerId:p.theirPeerId,mediaStream:m.value})];case 3:return e=t.sent(),e?alert("OK"):alert("NG"),[2]}}))}))},b=function(){return Object(l["b"])(r,void 0,void 0,(function(){return Object(l["c"])(this,(function(t){switch(t.label){case 0:return 0!==p.roomName.length?[3,2]:(p.roomName=v.createRoomName(),[4,new Promise((function(e){return setTimeout(e,1e3)}))]);case 1:t.sent(),t.label=2;case 2:return[4,ye["a"].moveRoom(e.apiKey,p.roomName)];case 3:return t.sent(),[2]}}))}))},h=function(){return Object(l["b"])(r,void 0,void 0,(function(){var t;return Object(l["c"])(this,(function(n){switch(n.label){case 0:return null===u.value?[2,null]:(t=v.createCallUrl(e.apiKey,u.value),[4,K["a"].showShareUrl(t)]);case 1:return n.sent(),[2]}}))}))};return Object(s["k"])((function(){return d.value}),(function(t){null!==t&&ye["a"].movePeer(e.apiKey,t)})),Object(l["a"])(Object(l["a"])({},Object(s["j"])(p)),{click1on1:f,clickRoom:b,peerId:u,clickQr:h,mediaStream:m})}}),it=ct,ut=n("b81c"),lt=Object(g["a"])(it,Ge,Xe,!1,null,"0da69c26",null),st=lt.exports;S()(lt,{VBottomNavigation:ut["a"],VBtn:G["a"],VCard:Te["a"],VCardActions:$e["a"],VCardText:$e["b"],VCol:X["a"],VContainer:ae["a"],VIcon:Y["a"],VRow:Z["a"],VSpacer:Ue["a"]});var dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"main",fn:function(){return[n("MessageForm"),n("VideoPreview",{attrs:{"media-stream":e.yourMediaStream}}),n("div",{staticStyle:{position:"absolute",right:"16px",bottom:"16px","max-width":"200px",width:"50vw",border:"1px solid white","border-radius":"16px",overflow:"hidden"}},[n("VideoPreview",{attrs:{"media-stream":e.mediaStream}})],1)]},proxy:!0},{key:"footer",fn:function(){return[n("v-toolbar",{attrs:{dark:""}},[n("CameraChangeButton"),n("v-spacer"),n("v-btn",{attrs:{rounded:"",color:"error"},on:{click:e.close}},[n("v-icon",[e._v("mdi-phone-hangup")])],1)],1)]},proxy:!0}])})},mt=[],pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-form"},[n("div",{staticClass:"message-form__item message-form__item--main"},[n("InputText",{model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),n("div",{staticClass:"message-form__item message-form__item--action"},[n("v-btn",{attrs:{color:"primary"},on:{click:e.clickSend}},[e._v("送信")])],1)])},vt=[],ft=Object(s["c"])({components:{InputText:p["a"]},setup:function(){var e=this,t=Object(se["a"])().send,n=Object(s["h"])({message:""}),r=function(){return Object(l["b"])(e,void 0,void 0,(function(){var e;return Object(l["c"])(this,(function(r){switch(r.label){case 0:return[4,t(n.message)];case 1:return e=r.sent(),e?(n.message="",[4,Q["a"].show("送信しました")]):[3,3];case 2:return r.sent(),[3,5];case 3:return[4,K["a"].showError("送信失敗")];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))};return Object(l["a"])(Object(l["a"])({},Object(s["j"])(n)),{clickSend:r})}}),bt=ft,ht=(n("b144"),Object(g["a"])(bt,pt,vt,!1,null,"76aeafb6",null)),Ot=ht.exports;S()(ht,{VBtn:G["a"]});var jt=Object(s["c"])({components:{CameraChangeButton:Pe,MessageForm:Ot,InputText:p["a"],VideoPreview:F,CameraSelect:V,LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0},theirPeerId:{type:String,required:!0}},setup:function(e){var t=Object(ge["a"])().mediaStream,n=Object(se["a"])(),r=n.close,a=n.yourMediaStream,o=n.mediaConnection,c=Object(s["h"])({});return Object(s["k"])((function(){return o.value}),(function(t){null===t&&(alert("切断されました"),ye["a"].moveTop(e.apiKey))})),Object(l["a"])(Object(l["a"])({},Object(s["j"])(c)),{mediaStream:t,yourMediaStream:a,close:r})}}),yt=jt,gt=Object(g["a"])(yt,dt,mt,!1,null,"1ae569ce",null),_t=gt.exports;S()(gt,{VBtn:G["a"],VIcon:Y["a"],VSpacer:Ue["a"],VToolbar:Ae["a"]});var St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"main",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[n("InputText",{attrs:{label:"APIキー",value:e.apiKey}}),n("InputText",{attrs:{label:"PeerId"},model:{value:e.peerId,callback:function(t){e.peerId=t},expression:"peerId"}}),n("div",[e._v(e._s(e.message))])],1)],1)],1)]},proxy:!0}])})},Ct=[],wt=function(e){var t=Object(s["i"])(null),n=Object(s["i"])(!1),r={key:e.apiKey,debug:3},a=Object(s["i"])("string"===typeof e.peerId?new $.a(e.peerId,r):new $.a(r));return a.value.on("open",(function(e){t.value=e,n.value=!0})),Object(s["f"])((function(){a.value.open&&a.value.destroy()})),{peer:a,peerId:t,isOpen:n}},kt=Object(s["c"])({components:{InputText:p["a"],LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0}},setup:function(e){var t=wt({apiKey:e.apiKey}),n=t.peer,r=t.peerId;n.value.on("close",(function(){Q["a"].show("切断しました")})),n.value.on("error",(function(e){K["a"].showError("エラー: "+e.message)}));var a=Object(s["a"])((function(){return n.value.open?"接続完了":"接続中..."}));return{peer:n,peerId:r,message:a}}}),Pt=kt,It=Object(g["a"])(Pt,St,Ct,!1,null,"ec451004",null),xt=It.exports;S()(It,{VCol:X["a"],VContainer:ae["a"],VRow:Z["a"]});var Vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"main",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[e._v("ViewSample5")])],1)],1)]},proxy:!0}])})},Kt=[],Tt=Object(s["c"])({components:{LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0}},setup:function(){var e=Object(s["h"])({});return Object(l["a"])({},Object(s["j"])(e))}}),$t=Tt,Et=Object(g["a"])($t,Vt,Kt,!1,null,"25896a9c",null),Nt=Et.exports;S()(Et,{VCol:X["a"],VContainer:ae["a"],VRow:Z["a"]});var Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"main",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[e._v("ViewSample4")])],1)],1)]},proxy:!0}])})},Lt=[],qt=Object(s["c"])({components:{LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0}},setup:function(){var e=Object(s["h"])({});return Object(l["a"])({},Object(s["j"])(e))}}),Mt=qt,Bt=Object(g["a"])(Mt,Dt,Lt,!1,null,"51661d3c",null),Rt=Bt.exports;S()(Bt,{VCol:X["a"],VContainer:ae["a"],VRow:Z["a"]});var Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"main",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[e._v("ViewSample3")])],1)],1)]},proxy:!0}])})},At=[],Ht=Object(s["c"])({components:{LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0}},setup:function(){var e=Object(s["h"])({});return Object(l["a"])({},Object(s["j"])(e))}}),Jt=Ht,Ft=Object(g["a"])(Jt,Ut,At,!1,null,"7d42cfdc",null),Qt=Ft.exports;S()(Ft,{VCol:X["a"],VContainer:ae["a"],VRow:Z["a"]});var zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutPage",{scopedSlots:e._u([{key:"main",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[n("InputText",{attrs:{label:"APIキー",value:e.apiKey}}),n("InputText",{attrs:{label:"PeerId"},model:{value:e.peerId,callback:function(t){e.peerId=t},expression:"peerId"}}),n("div",[e._v(e._s(e.message))]),null!==e.url?n("QrButton",{attrs:{data:e.url}}):e._e(),n("v-divider"),n("InputText",{attrs:{label:"送信先PeerId"},model:{value:e.localToPeerId,callback:function(t){e.localToPeerId=t},expression:"localToPeerId"}}),n("v-btn",{on:{click:e.clickP2P}},[e._v("P2P接続")]),n("v-divider"),null!==e.dataConnection?n("PeerChat",{attrs:{"data-connection":e.dataConnection}}):e._e()],1)],1)],1)]},proxy:!0}])})},Wt=[],Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{icon:""},on:{click:e.clickQr}},[n("v-icon",[e._v("mdi-qrcode")])],1)},Xt=[],Yt=Object(s["c"])({components:{},props:{data:{type:String,required:!0}},setup:function(e){var t=this,n=function(){return Object(l["b"])(t,void 0,void 0,(function(){return Object(l["c"])(this,(function(t){switch(t.label){case 0:return[4,K["a"].showShareUrl(e.data)];case 1:return t.sent(),[2]}}))}))};return{clickQr:n}}}),Zt=Yt,en=Object(g["a"])(Zt,Gt,Xt,!1,null,"e37fd1e6",null),tn=en.exports;S()(en,{VBtn:G["a"],VIcon:Y["a"]});var nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("P2P データ送受信")]),n("v-card-text",[e._l(e.messages,(function(t,r){return[n("div",{key:r},[e._v(e._s(t))])]}))],2),n("v-divider"),n("v-card-actions",[n("v-text-field",{attrs:{"hide-details":"",dense:"",placeholder:"メッセージを送信",rounded:"",outlined:"","append-icon":"mdi-send",color:"primary"},on:{"click:append":e.clickSend},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1)},rn=[],an=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"peer-chat-footer"},[n("div",{staticClass:"peer-chat-footer__item peer-chat-footer__item--main"},[n("InputText",{model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})],1),n("div",{staticClass:"peer-chat-footer__item peer-chat-footer__item--action"},[n("v-btn",{attrs:{color:"primary"},on:{click:e.emitClickSend}},[e._v("送信")])],1)])},on=[],cn=Object(s["c"])({components:{InputText:p["a"]},props:{value:{type:String,required:!0}},emits:["input","click-send"],setup:function(e,t){var n=function(e){t.emit("input",e)},r=function(){t.emit("click-send")},a=Object(s["a"])({get:function(){return e.value},set:function(e){n(e)}});return{emitClickSend:r,localValue:a}}}),un=cn,ln=(n("683d"),Object(g["a"])(un,an,on,!1,null,"1358a576",null)),sn=ln.exports;S()(ln,{VBtn:G["a"]});var dn=Object(s["c"])({components:{PeerChatFooter:sn,MessageForm:Ot,InputText:p["a"]},props:{dataConnection:{type:T["DataConnection"],required:!0}},setup:function(e){var t=this,n=Object(s["h"])({message:"",messages:[]});e.dataConnection.on("open",(function(){Q["a"].todo("DataConnection >> open!!!")})),e.dataConnection.on("data",(function(e){n.messages.push(e),Q["a"].todo("DataConnection >> data: "+JSON.stringify(e,null,"  "))})),e.dataConnection.on("close",(function(){Q["a"].todo("DataConnection >> close!!!")})),e.dataConnection.on("error",(function(){Q["a"].todo("DataConnection >> error!!!")}));var r=function(){return Object(l["b"])(t,void 0,void 0,(function(){var t;return Object(l["c"])(this,(function(r){return t=n.message,e.dataConnection.send(t),n.messages.push(t),n.message="",[2]}))}))};return Object(l["a"])(Object(l["a"])({},Object(s["j"])(n)),{clickSend:r})}}),mn=dn,pn=Object(g["a"])(mn,nn,rn,!1,null,"37269edc",null),vn=pn.exports;S()(pn,{VCard:Te["a"],VCardActions:$e["a"],VCardText:$e["b"],VCardTitle:$e["c"],VDivider:rt["a"],VTextField:Le["a"]});var fn=Object(s["c"])({components:{PeerChat:vn,QrButton:tn,InputText:p["a"],LayoutPage:le["a"]},props:{apiKey:{type:String,required:!0},toPeerId:{type:String,default:null}},setup:function(e){var t,n=this,r=Object(s["h"])({localToPeerId:null!==(t=e.toPeerId)&&void 0!==t?t:"",dataConnection:null}),a=wt({apiKey:e.apiKey}),o=a.peer,c=a.peerId;o.value.on("close",(function(){Q["a"].show("切断しました")})),o.value.on("error",(function(e){K["a"].showError("エラー: "+e.message)})),o.value.on("connection",(function(e){r.localToPeerId=e.remoteId,m(e)}));var i=Object(s["a"])((function(){return o.value.open?"接続完了":"接続中..."})),u=Object(s["a"])((function(){return null===c.value?null:v.createSample2Url(e.apiKey,c.value)})),d=function(){return Object(l["b"])(n,void 0,void 0,(function(){var e,t;return Object(l["c"])(this,(function(n){return e=r.localToPeerId,0===e.length||(t=o.value.connect(e),m(t)),[2]}))}))},m=function(e){r.dataConnection=e};return Object(l["a"])(Object(l["a"])({},Object(s["j"])(r)),{peer:o,peerId:c,message:i,url:u,clickP2P:d})}}),bn=fn,hn=Object(g["a"])(bn,zt,Wt,!1,null,"ec63edc0",null),On=hn.exports;S()(hn,{VBtn:G["a"],VCol:X["a"],VContainer:ae["a"],VDivider:rt["a"],VRow:Z["a"]}),r["default"].use(a["a"]);var jn=[{path:"/home",name:o["b"].Home,component:ce},{path:"/",name:o["b"].Login,component:function(){return n.e("about").then(n.bind(null,"b867"))}},{path:"/:apiKey",name:o["b"].Top,component:st,props:function(e){return{apiKey:e.params.apiKey}}},{path:"/:apiKey/call/:theirPeerId",name:o["b"].Call,component:_t,props:function(e){return{apiKey:e.params.apiKey,theirPeerId:e.params.theirPeerId}}},{path:"/:apiKey/rooms/:roomName?",name:o["b"].Room,component:We,props:function(e){var t;return{apiKey:e.params.apiKey,roomName:null!==(t=e.params.roomName)&&void 0!==t?t:v.createRoomName()}}},{path:"/:apiKey/sample1",name:o["b"].Sample1,component:xt,props:function(e){return{apiKey:e.params.apiKey}}},{path:"/:apiKey/sample2",name:o["b"].Sample2,component:On,props:function(e){return{apiKey:e.params.apiKey,toPeerId:e.query.toPeerId}}},{path:"/:apiKey/sample3",name:o["b"].Sample3,component:Qt,props:function(e){return{apiKey:e.params.apiKey}}},{path:"/:apiKey/sample4",name:o["b"].Sample4,component:Rt,props:function(e){return{apiKey:e.params.apiKey}}},{path:"/:apiKey/sample5",name:o["b"].Sample5,component:Nt,props:function(e){return{apiKey:e.params.apiKey}}},{path:"*",redirect:{name:o["b"].Login}}],yn=new a["a"]({mode:"history",base:"/web-rtc-prac/",routes:jn});yn.beforeEach((function(e,t,n){var r,a=null!==(r=e.params.apiKey)&&void 0!==r?r:null;if(null!==a){var o=c["a"].settings;o.apiKey=a,c["a"].settings=o}n()}));t["a"]=yn},b0dd:function(e,t,n){"use strict";n("9428")},b144:function(e,t,n){"use strict";n("3de4")},b47d:function(e,t,n){"use strict";n("e8f6")},b656:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("router-view",{attrs:{peer:e.peer}})],1)},o=[],c=n("9ab4"),i=n("ed09"),u=n("75ed"),l=n("febd"),s=n("9f38"),d=Object(i["c"])({components:{},setup:function(e,t){var n=this,r=Object(l["a"])(),a=r.init,o=r.mediaStream,d=Object(u["a"])(),m=d.init,p=d.peer,v=Object(i["h"])({});Object(i["e"])((function(){f()}));var f=function(){return Object(c["b"])(n,void 0,void 0,(function(){var e,n;return Object(c["c"])(this,(function(r){switch(r.label){case 0:return[4,a()];case 1:return r.sent(),e=null!==(n=t.root.$route.params.apiKey)&&void 0!==n?n:null,null===e?[3,3]:[4,m({apiKey:e,peerId:s["a"].myPeerId,mediaStream:o.value})];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))};return Object(c["a"])(Object(c["a"])({},Object(i["j"])(v)),{peer:p})}}),m=d,p=n("2877"),v=n("6544"),f=n.n(v),b=n("7496"),h=Object(p["a"])(m,a,o,!1,null,"30a3b828",null),O=h.exports;f()(h,{VApp:b["a"]});var j=n("9483");Object(j["a"])("/web-rtc-prac/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var y=n("afbc"),g=n("0613"),_=n("f309");r["default"].use(_["a"]);var S=new _["a"]({});r["default"].config.productionTip=!1,r["default"].use(i["b"]);var C=new r["default"]({router:y["a"],store:g["a"],vuetify:S,render:function(e){return e(O)}}).$mount("#app");window.vmApp=C},d23f:function(e,t,n){"use strict";n("61ab")},d745:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={Home:"Home",Login:"Login",Top:"Top",Call:"Call",Room:"Room",Sample1:"Sample1",Sample2:"Sample2",Sample3:"Sample3",Sample4:"Sample4",Sample5:"Sample5"},a=function(){function e(){}return e.toLogin=function(){return{name:r.Login}},e.toHome=function(e,t){return{name:r.Home,query:{apiKey:null!==e&&void 0!==e?e:void 0,theirPeerId:null!==t&&void 0!==t?t:void 0}}},e.toTop=function(e){return{name:r.Top,params:{apiKey:e}}},e.toCall=function(e,t){return{name:r.Call,params:{apiKey:e,theirPeerId:t}}},e.toRoom=function(e,t){return{name:r.Room,params:{apiKey:e,roomName:t}}},e.toSample1=function(e){return{name:r.Sample1,params:{apiKey:e}}},e.toSample2=function(e,t){return void 0===t&&(t=null),{name:r.Sample2,params:{apiKey:e},query:{toPeerId:t}}},e.toSample3=function(e){return{name:r.Sample3,params:{apiKey:e}}},e.toSample4=function(e){return{name:r.Sample4,params:{apiKey:e}}},e.toSample5=function(e){return{name:r.Sample5,params:{apiKey:e}}},e}()},dd38:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{attrs:{color:"primary",dark:""}},[n("v-toolbar-title",[e._v(e._s(e.title))]),n("v-spacer"),n("a",{staticStyle:{color:"white",opacity:"0.2"},attrs:{href:e.commitUrl,target:"_blank"}},[e._v(" "+e._s(e.commitHash7)+" ")])],1)},a=[],o=n("ed09"),c=function(){function e(){}return Object.defineProperty(e,"commitHash",{get:function(){var e;return null!==(e="15bbe38a37372ae4d08d9edd51c2e8c9188406ce")&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(e,"commitUrl",{get:function(){return null===this.commitHash?null:"https://github.com/tatsuya0903/web-rtc-prac/commit/"+this.commitHash},enumerable:!1,configurable:!0}),e}(),i=Object(o["c"])({components:{},setup:function(){var e,t,n="WebRTCサンプル",r=c.commitUrl,a=null!==(t=null===(e=c.commitHash)||void 0===e?void 0:e.substring(0,7))&&void 0!==t?t:"";return{title:n,commitUrl:r,commitHash7:a}}}),u=i,l=n("2877"),s=n("6544"),d=n.n(s),m=n("40dc"),p=n("2fa4"),v=n("2a7f"),f=Object(l["a"])(u,r,a,!1,null,"25cddeea",null);t["a"]=f.exports;d()(f,{VAppBar:m["a"],VSpacer:p["a"],VToolbarTitle:v["a"]})},deca:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("9ab4"),a=n("afbc"),o=n("d745"),c=function(){function e(){}return e.moveHome=function(e,t){var n=o["a"].toHome(e,t);return this.moveLocation(n)},e.moveTop=function(e){var t=o["a"].toTop(e);return this.moveLocation(t)},e.movePeer=function(e,t){var n=o["a"].toCall(e,t);return this.moveLocation(n)},e.moveRoom=function(e,t){var n=o["a"].toRoom(e,t);return this.moveLocation(n)},e.moveLocation=function(e){return Object(r["b"])(this,void 0,Promise,(function(){return Object(r["c"])(this,(function(t){switch(t.label){case 0:return[4,a["a"].push(e)];case 1:return[2,t.sent()]}}))}))},e}()},e8f6:function(e,t,n){},fc1b:function(e,t,n){"use strict";n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return M}));var r=n("9ab4"),a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",{ref:"card"},[null!==e.size?n("QrCode",{attrs:{size:e.size,data:e.url}}):e._e(),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:e.clickCancel}},[e._v("閉じる")])],1)],1)],1)},c=[],i=n("ed09"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{style:e.styleObject,attrs:{src:e.url,scrolling:"no",frameborder:"0"}})},l=[],s=Object(i["c"])({components:{},props:{size:{type:Number,default:280},data:{type:String,default:"HelloWorld"}},setup:function(e){var t=Object(i["h"])({}),n=function(e,t){return"https://chart.googleapis.com/chart?cht=qr&chs="+e+"x"+e+"&chl="+encodeURIComponent(t)},a=n(e.size,e.data),o=Object(i["a"])((function(){return{width:e.size+"px",height:e.size+"px"}}));return Object(r["a"])(Object(r["a"])({},Object(i["j"])(t)),{url:a,styleObject:o})}}),d=s,m=n("2877"),p=Object(m["a"])(d,u,l,!1,null,"1a45d71e",null),v=p.exports,f=Object(i["c"])({components:{QrCode:v},props:{url:{type:String,required:!0},callbackClosed:{type:null,required:!0}},setup:function(e){var t=this,n=Object(i["h"])({isOpen:!0,size:null});Object(i["k"])((function(){return n.isOpen}),(function(t){t||e.callbackClosed()}));var a=function(){n.isOpen=!1},o=Object(i["i"])();Object(i["g"])((function(){var e=o.value;e&&(n.size=e.$el.clientWidth)}));var c=function(){return Object(r["b"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return a(),[2]}))}))};return Object(r["a"])(Object(r["a"])({},Object(i["j"])(n)),{close:a,clickCancel:c,card:o})}}),b=f,h=n("6544"),O=n.n(h),j=n("8336"),y=n("b0af"),g=n("99d9"),_=n("169a"),S=n("2fa4"),C=Object(m["a"])(b,o,c,!1,null,"49f2e996",null),w=C.exports;O()(C,{VBtn:j["a"],VCard:y["a"],VCardActions:g["a"],VDialog:_["a"],VSpacer:S["a"]});var k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"480"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",{ref:"card"},[n("v-card-title",[e._v("エラー")]),n("v-card-text",[e._v(e._s(e.message))]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:e.clickCancel}},[e._v("閉じる")])],1)],1)],1)},P=[],I=Object(i["c"])({components:{},props:{message:{type:String,required:!0},callbackClosed:{type:null,required:!0}},setup:function(e){var t=this,n=Object(i["h"])({isOpen:!0});Object(i["k"])((function(){return n.isOpen}),(function(t){t||e.callbackClosed()}));var a=function(){n.isOpen=!1},o=function(){return Object(r["b"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return a(),[2]}))}))};return Object(r["a"])(Object(r["a"])({},Object(i["j"])(n)),{close:a,clickCancel:o})}}),x=I,V=Object(m["a"])(x,k,P,!1,null,"78dd561a",null),K=V.exports;O()(V,{VBtn:j["a"],VCard:y["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:_["a"],VSpacer:S["a"]});var T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"480",persistent:""},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",{ref:"card"},[n("v-card-title",[e._v("着信")]),n("v-card-text",[e._v(e._s(e.message))]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error",text:""},on:{click:e.clickCancel}},[e._v("拒否")]),n("v-btn",{attrs:{color:"teal",text:""},on:{click:e.clickDone}},[e._v("承諾")])],1)],1)],1)},$=[],E=Object(i["c"])({components:{},props:{message:{type:String,required:!0},callbackClosed:{type:null,required:!0}},setup:function(e){var t=this,n=Object(i["h"])({isOpen:!0}),a=function(t){n.isOpen=!1,e.callbackClosed(t)},o=function(){return Object(r["b"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return a(q.Cancel),[2]}))}))},c=function(){return Object(r["b"])(t,void 0,void 0,(function(){return Object(r["c"])(this,(function(e){return a(q.Done),[2]}))}))};return Object(r["a"])(Object(r["a"])({},Object(i["j"])(n)),{close:a,clickCancel:o,clickDone:c})}}),N=E,D=Object(m["a"])(N,T,$,!1,null,"881746ea",null),L=D.exports;O()(D,{VBtn:j["a"],VCard:y["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VDialog:_["a"],VSpacer:S["a"]});var q={Done:"Done",Cancel:"Cancel"},M=function(){function e(){}return e.showError=function(e){return Object(r["b"])(this,void 0,Promise,(function(){var t=this;return Object(r["c"])(this,(function(n){return[2,new Promise((function(n){var r=a["default"].extend(K),o=new r({parent:t.parent,propsData:{message:e,callbackClosed:function(){n(),setTimeout((function(){t.removeElement(o)}),100)}}});t.attachElement(o)}))]}))}))},e.showCalled=function(e){return Object(r["b"])(this,void 0,Promise,(function(){var t=this;return Object(r["c"])(this,(function(n){return[2,new Promise((function(n){var r=a["default"].extend(L),o=new r({parent:t.parent,propsData:{message:e,callbackClosed:function(e){n(e),setTimeout((function(){t.removeElement(o)}),100)}}});t.attachElement(o)}))]}))}))},e.showShareUrl=function(e){return Object(r["b"])(this,void 0,Promise,(function(){var t=this;return Object(r["c"])(this,(function(n){return[2,new Promise((function(n){var r=a["default"].extend(w),o=new r({parent:t.parent,propsData:{url:e,callbackClosed:function(){n(),setTimeout((function(){t.removeElement(o)}),100)}}});t.attachElement(o)}))]}))}))},Object.defineProperty(e,"parent",{get:function(){return window.vmApp},enumerable:!1,configurable:!0}),e.attachElement=function(e){e.$parent?(e.$mount(),e.$parent.$el.appendChild(e.$el)):(e.$mount(),document.body.appendChild(e.$el))},e.removeElement=function(e){e.$parent?(e.$parent.$el.removeChild(e.$el),e.$destroy()):(document.body.removeChild(e.$el),e.$destroy())},e}()},febd:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("9ab4"),a=n("0613"),o=n("ed09"),c=function(){var e=Object(o["a"])((function(){return a["a"].getters["camera/mediaStream"]})),t=function(){return Object(r["b"])(void 0,void 0,Promise,(function(){return Object(r["c"])(this,(function(e){return[2,a["a"].dispatch("camera/init")]}))}))},n=function(){return Object(r["b"])(void 0,void 0,Promise,(function(){return Object(r["c"])(this,(function(e){return[2,a["a"].dispatch("camera/change")]}))}))},c=Object(o["a"])((function(){return a["a"].getters["camera/devices"]}));return{mediaStream:e,init:t,change:n,devices:c}}}});
//# sourceMappingURL=index.4d4dad59.js.map